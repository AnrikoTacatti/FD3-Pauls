<!DOCTYPE html>
<html>
  <head>
    <title>People API Quickstart</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <p>People API Quickstart</p>

    <!--Add buttons to initiate auth sequence and sign out-->
    <button id="authorize_button" style="display: none;">Authorize</button>
    <button id="signout_button" style="display: none;">Sign Out</button>

    <pre id="content" style="white-space: pre-wrap;"></pre>

    <script type="text/javascript">



     var SCOPES = ['https://www.googleapis.com/auth/tasks', 'https://www.googleapis.com/auth/plus.me'];


     window.handleGoogleApiLoaded = () => {
    authorize();
};
 function authorize(params) {
    return new Promise((resolve, reject) => {
      gapi.auth.authorize(
        {
          'client_id': "'257463292339-jai7030sta0bdvln0oi3afdoqv9tolop.apps.googleusercontent.com",
          'scope': SCOPES,
          'immediate': true,
          'cookie_policy': 'single_host_origin'
        },
        authResult => {
          if (authResult.error) {
            return reject(authResult.error);
          }

          return gapi.client.load('tasks', 'v1', () => gapi.client.load('plus', 'v1', () => resolve()));
        }
      );
    });
 }


 function makeRequest(requestObj) {
    return new Promise((resolve, reject) => {
      requestObj.execute(resp =>
        resp.error
          ? reject(resp.error)
          : resolve(resp));
    })
  }

 const request = gapi.client.tasks.tasklists.list();

makeRequest(request);



    </script>

<script src="https://apis.google.com/js/client.js?onload=handleGoogleApiLoaded" async defer></script>
  </body>
</html>